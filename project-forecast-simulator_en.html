<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Study - Python Demand Forecast Simulator</title>

    <!-- SEO & OGP -->
    <meta name="description" content="Breaking away from traditional inventory management methods by predicting the future with data science. A project case study on the challenge of data-driven inventory optimization."> <!-- Revised: intuition and experience -> traditional inventory management methods -->
    <meta property="og:title" content="Case Study - Python Demand Forecast Simulator">
    <meta property="og:description" content="Developed a time-series clustering and demand forecast model using Python. Prototyped a simulator with adjustable parameters."> 
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://kou511.github.io/my-portfolio/project-forecast-simulator_en.html"> 
    <meta property="og:image" content="https://kou511.github.io/my-portfolio/images/ogp-python-forecast.webp"> 

    <!-- Favicon -->
    <link rel="icon" href="images/favicon.webp">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    
    <!-- Flicker-Fix Script (Default to Dark Mode) -->
    <script>
        if (localStorage.getItem('theme') === 'light') {
            document.documentElement.classList.remove('dark');
        } else {
            document.documentElement.classList.add('dark'); // Default to dark
        }
    </script>

    <!-- Fonts, CSS, Icons -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'"> <!-- Removed Japanese Font -->
    <noscript><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet"></noscript>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- GSAP & Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            /* Light Mode Theme */
            --primary-color: #03887B;      /* Deep Mint Green */
            --secondary-color: #6F2DA8;   /* Deep Purple */
            --bg-main: #FAFAFA;           /* Bright off-white */
            --bg-card: rgba(255, 255, 255, 0.8);
            --border-color: #e5e5e5;      /* Neutral-200 */
            --text-main: #212121;         /* Deep black */
            --text-sub: #737373;          /* Neutral-500 */
            --shadow-color: rgba(0,0,0,0.07);
            --dynamic-grad-opacity: 0.05;
            --btn-text-color: #FAFAFA;
            --accent-gradient: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        html.dark {
            /* Dark Mode Theme */
            --primary-color: #00CBAA;      /* Emerald Green */
            --secondary-color: #9D4EDD;   /* Vibrant Violet */
            --bg-main: #171717;           /* Near-black gray */
            --bg-card: rgba(39, 39, 39, 0.6); /* Translucent #272727 */
            --border-color: rgba(0, 203, 170, 0.2); /* Translucent primary */
            --text-main: #F3F3F3;         /* Pure white */
            --text-sub: #a1a1aa;          /* Mid-gray */
            --shadow-color: rgba(0,0,0,0.5);
            --dynamic-grad-opacity: 0.07;
            --btn-text-color: #171717;
        }
        
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Poppins', sans-serif; /* Use Poppins as primary */
            background-color: var(--bg-main);
            color: var(--text-main);
            overflow-x: hidden;
            transition: background-color 0.4s, color 0.4s;
            font-weight: 400;
        }
        h1, h2, h3, h4, h5, h6 { font-weight: 700; }
        body::before {
            content: ''; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 15% 50%, var(--primary-color), transparent 40%),
                        radial-gradient(circle at 85% 30%, var(--secondary-color), transparent 40%),
                        radial-gradient(circle at 50% 90%, #3a2d80, transparent 50%);
            background-color: var(--bg-main); opacity: var(--dynamic-grad-opacity); z-index: -1;
            animation: gradient-flow 20s ease-in-out infinite;
            transition: opacity 0.4s;
        }
        @keyframes gradient-flow {
            0%, 100% { background-position: 0% 50%, 0% 50%, 0% 50%; }
            50% { background-position: 100% 50%, 100% 50%, 100% 50%; }
        }
        .glass-card {
            background: var(--bg-card); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border-color); border-radius: 1rem;
            transition: transform 0.3s, box-shadow 0.3s, border-color 0.3s, background-color 0.4s;
            position: relative; overflow: hidden;
        }
        .glass-card::after { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 500 500' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); background-repeat: repeat; opacity: 0.025; }
        .glass-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 30px var(--shadow-color);
            border-color: rgba(0, 203, 170, 0.5);
        }

        #loader {
            position: fixed; inset: 0; z-index: 100;
            display: flex; align-items: center; justify-content: center;
            background-color: var(--bg-main); color: var(--primary-color);
            font-size: 2rem; font-weight: bold;
            transition: opacity 0.5s, visibility 0.5s;
        }
        #loader.hidden { opacity: 0; visibility: hidden; }
        
        .controls-container {
            position: fixed; 
            top: 1.5rem; right: 1.5rem; 
            z-index: 51;
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        #theme-toggle {
            background: var(--bg-card); border: 1px solid var(--border-color);
            width: 50px; height: 50px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer;
        }
        #theme-toggle i { color: var(--text-sub); transition: color 0.3s, transform 0.3s; }
        #theme-toggle:hover i { color: var(--primary-color); transform: rotate(15deg); }

        .gradient-text {
            background: var(--accent-gradient);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text; color: transparent;
        }
        #hero-bg {
            background-image: url('images/python.webp');
            background-size: cover; background-position: center; position: relative;
        }
        #hero-bg::before {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(180deg, rgba(23, 23, 23, 0.9) 0%, rgba(23, 23, 23, 0.7) 100%);
            z-index: 1;
        }
        html:not(.dark) #hero-bg::before {
            background: linear-gradient(180deg, rgba(250, 250, 250, 0.9) 0%, rgba(250, 250, 250, 0.7) 100%);
        }
        #hero-bg > * { position: relative; z-index: 2; }

        .timeline-card { 
            position: relative; padding-left: 4rem; padding-bottom: 2.5rem;
        }
        .timeline-card:last-child { padding-bottom: 0; }
        .timeline-card::before {
            content: ''; position: absolute; left: 28px; top: 0.5rem;
            width: 2px; height: 100%; background: var(--border-color); 
        }
        .timeline-card:last-child::before { display: none; }
        
        .timeline-icon {
            position: absolute; left: 0; top: 0; width: 60px; height: 60px;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 1.5rem; color: var(--btn-text-color); background: var(--primary-color);
            border: 2px solid var(--border-color); z-index: 1; transition: all 0.3s;
        }
        .section-nav {
            position: fixed; top: 50%; left: 2rem; transform: translateY(-50%);
            z-index: 50; display: none;
        }
        @media (min-width: 1280px) { .section-nav { display: block; } }
        .section-nav ul { list-style: none; padding: 0; margin: 0; }
        .section-nav a {
            display: flex; align-items: center;
            padding: 0.5rem 0; color: var(--text-sub);
            text-decoration: none; font-size: 0.875rem; font-weight: 500;
            position: relative; transition: color 0.3s;
        }
        .section-nav a::before {
            content: ''; display: inline-block; width: 8px; height: 8px;
            background-color: var(--text-sub); border-radius: 50%;
            margin-right: 1rem; transition: all 0.3s;
        }
        .section-nav a.active, .section-nav a:hover { color: var(--primary-color); }
        .section-nav a.active::before, .section-nav a:hover::before {
            background-color: var(--primary-color);
            transform: scale(1.5);
        }
        .reveal { opacity: 0; transform: translateY(50px); }
        .timeline-icon-wrapper {
            position: relative; z-index: 1;
        }
        .timeline-icon-circle {
            width: 64px; height: 64px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            border-width: 2px; margin: 0 auto;
            background-color: var(--bg-main);
            transition: all 0.4s ease-in-out;
        }
        .reveal-child:hover .timeline-icon-circle {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 0 20px var(--primary-color);
        }
        .btn-custom-text {
            color: var(--btn-text-color);
        }
        .cluster-filter-btn {
            padding: 0.25rem 0.75rem; border-radius: 9999px;
            font-size: 0.75rem; font-weight: 600; cursor: pointer;
            transition: all 0.2s;
            background-color: var(--bg-card); color: var(--text-sub);
            border: 1px solid var(--border-color);
        }
        .cluster-filter-btn:hover {
            border-color: var(--text-sub);
        }
        .cluster-filter-btn.active {
            color: var(--btn-text-color) !important;
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }
    </style>
</head>
<body class="antialiased">

    <div id="loader">Loading...</div>
    <div class="controls-container">
        <a href="project-forecast-simulator.html" class="text-[var(--text-sub)] hover:text-[var(--primary-color)] transition-colors font-bold text-lg" aria-label="Switch to Japanese">JP</a>
        <button id="theme-toggle" aria-label="Toggle theme"><i class="fas fa-sun"></i></button>
    </div>

    <header class="fixed top-0 left-0 z-50 p-6">
        <a href="index_en.html" class="glass-card inline-block px-4 py-2 text-sm hover:!border-[var(--primary-color)] transition-all">
            <i class="fas fa-arrow-left mr-2"></i>Back to Portfolio
        </a>
    </header>

    <nav class="section-nav">
        <ul>
            <li><a href="#overview" class="active">Overview</a></li>
            <li><a href="#timeline">Journey</a></li>
            <li><a href="#challenge">Challenge</a></li>
            <li><a href="#action">Process</a></li>
            <li><a href="#result">Result</a></li>
            <li><a href="#takeaways">Takeaways</a></li>
        </ul>
    </nav>

    <div class="flex">
        <main class="w-full max-w-screen-lg mx-auto p-4 md:p-12 space-y-24">

            <section id="hero-bg" class="rounded-2xl py-24 md:py-40 mt-16">
                <div id="hero" class="text-center px-4">
                    <p class="text-lg text-[var(--primary-color)] font-semibold reveal">PROJECT CASE STUDY</p>
                    <h1 class="text-4xl md:text-6xl mt-2 mb-6 gradient-text reveal">Python Demand Forecast Simulator</h1>
                    <p class="text-xl leading-relaxed font-normal max-w-3xl mx-auto text-[var(--text-main)] reveal">
                        Moving beyond traditional inventory management methods. A journey into data-driven inventory optimization by forecasting the future with data science. <!-- Revised: intuition and experience -> traditional inventory management methods -->
                    </p>
                </div>
            </section>

            <section id="overview" data-gsap-stagger>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="glass-card p-8 text-center reveal-child">
                        <i class="fas fa-user-tie text-4xl text-[var(--primary-color)] mb-3"></i>
                        <h3 class="text-xl mb-2">My Role</h3>
                        <p class="text-[var(--text-sub)]">Data Analyst / DX Leader Candidate</p>
                    </div>
                    <div class="glass-card p-8 text-center reveal-child">
                        <i class="fas fa-calendar-alt text-4xl text-[var(--primary-color)] mb-3"></i>
                        <h3 class="text-xl mb-2">Project Duration</h3>
                        <p class="text-[var(--text-sub)]">Approx. 3 Months (During Training)</p>
                    </div>
                    <div class="glass-card p-8 text-center reveal-child">
                        <i class="fas fa-check-double text-4xl text-[var(--primary-color)] mb-3"></i>
                        <h3 class="text-xl mb-2">Objective</h3>
                        <p class="text-[var(--text-sub)]">Reduce Person-Dependency & Optimize Inventory</p>
                    </div>
                </div>
            </section>
            
            <section id="timeline">
                <div class="section-title text-center mb-16">
                    <h2 class="reveal gradient-text">Project Journey</h2>
                </div>
                <div class="relative max-w-4xl mx-auto px-4" data-gsap-stagger>
                    <div class="absolute top-8 left-0 w-full h-0.5 bg-[var(--border-color)]"></div>
                    <div class="relative grid grid-cols-1 md:grid-cols-3 gap-x-8 gap-y-12">
                        <div class="text-center reveal-child">
                            <div class="timeline-icon-wrapper">
                                <div class="timeline-icon-circle border-[var(--secondary-color)]">
                                    <i class="fas fa-brain text-2xl text-[var(--secondary-color)]"></i>
                                </div>
                            </div>
                            <h3 class="text-xl mt-4 mb-2">Challenge</h3>
                            <p class="text-sm text-[var(--text-sub)]">Experience-based inventory control &<br>Complex demand shifts</p> <!-- Revised: Reliance on intuition -> Experience-based inventory control -->
                        </div>
                        <div class="text-center reveal-child">
                            <div class="timeline-icon-wrapper">
                                <div class="timeline-icon-circle border-[var(--primary-color)]">
                                    <i class="fab fa-python text-2xl text-[var(--primary-color)]"></i>
                                </div>
                            </div>
                            <h3 class="text-xl mt-4 mb-2">Action</h3>
                            <p class="text-sm text-[var(--text-sub)]">Developed a Python-based<br>forecasting model via data analysis</p> <!-- Revised phrasing slightly -->
                        </div>
                        <div class="text-center reveal-child">
                            <div class="timeline-icon-wrapper">
                                <div class="timeline-icon-circle border-yellow-400">
                                    <i class="fas fa-project-diagram text-2xl text-yellow-400"></i>
                                </div>
                            </div>
                            <h3 class="text-xl mt-4 mb-2">Result</h3>
                            <p class="text-sm text-[var(--text-sub)]">Created an objective process &<br>led to a company-wide initiative</p> 
                        </div>
                    </div>
                </div>
            </section>

            <section id="challenge">
                <div class="section-title text-center mb-12"><h2 class="reveal gradient-text">Background & Challenges</h2></div>
                <div class="glass-card p-8 md:p-12 reveal">
                    <div class="space-y-8">
                        <div>
                            <h3 class="text-2xl mb-4 flex items-center"><i class="fas fa-user-cog text-2xl text-[var(--secondary-color)] mr-4"></i>Situation: Traditional Inventory Management</h3> <!-- Revised: Reliant on Experience -> Traditional -->
                            <p class="text-[var(--text-sub)] leading-relaxed pl-10 font-normal">
                               The product group for this project heavily depended on staff experience for demand forecasting. As a result, there was little objective basis for determining inventory levels, leading to a constant risk of cash flow impact from excess stock and lost sales from stockouts. <!-- Revised: veteran staff -> staff, poor cash flow -> cash flow impact -->
                            </p>
                        </div>
                        <div>
                            <h3 class="text-2xl mb-4 flex items-center"><i class="fas fa-wave-square text-2xl text-yellow-400 mr-4"></i>Difficulty: Complex Demand and Data Quality</h3>
                            <p class="text-[var(--text-sub)] leading-relaxed pl-10 font-normal">
                               Demand fluctuated due to various complex factors like seasonality and irregular events, making accurate prediction with simple statistical methods difficult. Furthermore, the historical shipment data used for analysis contained missing values and outliers, requiring data cleansing and preprocessing before a model could be built. <!-- Revised: meticulous -> (removed), necessary -> required (kept original meaning) -->
                            </p>
                        </div>
                    </div>
                </div>
            </section>
        
            <section id="action">
                <div class="section-title text-center mb-12"><h2 class="reveal gradient-text">Data Science Problem-Solving Process</h2></div>
                <div class="max-w-3xl mx-auto" data-gsap-stagger>
                    <div class="timeline-card reveal-child">
                        <div class="timeline-icon"><i class="fas fa-layer-group"></i></div>
                        <div class="glass-card p-8">
                            <h3 class="text-xl mb-2">SKU-based Time-Series Clustering</h3>
                            <p class="text-[var(--text-sub)] font-normal">First, after cleaning the data with data processing libraries, we normalized the demand fluctuation patterns for each SKU. Using time-series analysis libraries, we performed time-series clustering to group demand characteristics into categories like "Stable Demand," "Seasonal Demand," and "Irregular Demand." This laid the foundation for a tailored forecasting approach, rather than a one-size-fits-all model.</p> <!-- Revised: Pandas -> data processing libraries -->
                            <div class="mt-4 rounded-lg border border-[var(--border-color)] p-4 bg-[var(--bg-main)]/50">
                                <div id="cluster-filters" class="flex flex-wrap items-center gap-2 mb-4">
                                    <!-- Filter buttons will be inserted by JS -->
                                </div>
                                <div class="relative h-64 md:h-80">
                                    <canvas id="clusteringChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="timeline-card reveal-child">
                        <div class="timeline-icon"><i class="fas fa-sliders-h"></i></div>
                        <div class="glass-card p-8"><h3 class="text-xl mb-2">Prototyping an Interactive Forecasting Tool</h3><p class="text-[var(--text-sub)] font-normal">We developed a prototype of the forecasting tool (simulator) in an analysis environment. When a user selects a product, it displays the cluster information for that SKU (e.g., stable, seasonal). We also designed it so that parameters like volatility and safety stock levels could be adjusted intuitively with sliders, making it easy to test "what-if" scenarios.</p></div> <!-- Revised: Jupyter Notebook -> analysis environment -->
                    </div>
                    <div class="timeline-card reveal-child">
                        <div class="timeline-icon"><i class="fas fa-chalkboard-teacher"></i></div>
                        <div class="glass-card p-8"><h3 class="text-xl mb-2">Visualizing Results and Proposing to Management</h3><p class="text-[var(--text-sub)] font-normal">We visualized the simulation results using charting tools, presenting concrete trade-offs such as, "If we set safety stock at X%, the stockout rate can be kept to Y%, but the projected excess inventory cost will be Z." We presented to management how data-driven inventory optimization could contribute to the business, and gained approval for a full-scale company-wide improvement project.</p></div> <!-- Revised: Matplotlib and Seaborn -> charting tools -->
                    </div>
                </div>
            </section>

            <section id="result">
                <div class="section-title text-center mb-12"><h2 class="reveal gradient-text">Value Delivered</h2></div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8" data-gsap-stagger>
                    <div class="glass-card p-8 text-center reveal-child">
                        <i class="fas fa-lightbulb text-5xl text-green-400 mb-4"></i>
                        <h3 class="text-xl mb-2">Improved Decision Quality</h3>
                        <p class="text-[var(--text-sub)]">We shifted from person-dependent judgments to an objective, repeatable, data-driven decision-making process.</p>
                    </div>
                    <div class="glass-card p-8 text-center reveal-child">
                        <i class="fas fa-search-dollar text-5xl text-yellow-400 mb-4"></i>
                        <h3 class="text-xl mb-2">Visualized Cost Reduction Opportunities</h3>
                        <p class="text-[var(--text-sub)]">By visualizing the relationship between inventory levels and stockout risk, we identified a potential <span class="font-semibold text-[var(--text-main)]">large-scale</span> cost-saving opportunity.</p> 
                    </div>
                    <div class="glass-card p-8 text-center reveal-child">
                        <i class="fas fa-trophy text-5xl text-[var(--primary-color)] mb-4"></i>
                        <h3 class="text-xl mb-2">Led to Company-Wide Initiative</h3> 
                        <p class="text-[var(--text-sub)]">The results achieved during the training program were recognized, leading to the expansion of inventory optimization efforts across the company.</p> 
                    </div>
                     <div class="glass-card p-8 text-center reveal-child">
                        <i class="fas fa-chart-bar text-5xl text-[var(--secondary-color)] mb-4"></i>
                        <h3 class="text-xl mb-2">Supported Data-Driven Culture</h3> <!-- Revised: Fostered -> Supported -->
                        <p class="text-[var(--text-sub)]">This project acted as a catalyst, sparking interest in data utilization in other departments and contributing to an overall improvement in data literacy.</p>
                    </div>
                </div>
            </section>
            
            <section id="takeaways">
                <div class="section-title text-center mb-12"><h2 class="reveal gradient-text">Takeaways & Replicability</h2></div>
                <div class="grid grid-cols-1 gap-8">
                     <div class="glass-card p-8 md:p-12 reveal">
                        <h3 class="text-2xl mb-4 flex items-center"><i class="fas fa-users text-2xl text-[var(--secondary-color)] mr-4"></i>The Importance of "Translating" Between Tech and Business</h3>
                        <p class="text-[var(--text-sub)] leading-relaxed pl-10 font-normal">
                           Simply building a forecasting model doesn't create business value. I learned that more important than pursuing model accuracy is to clearly communicate "how this analysis helps on-the-ground decision-making" and to provide it as a tool that anyone can use. I realized that the role of a data analyst is not just an analyst, but a "translator" between data and business. <!-- Revised: advanced forecasting model -> forecasting model, data scientist -> data analyst -->
                        </p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8" data-gsap-stagger>
                        <div class="glass-card p-8 reveal-child">
                            <h3 class="text-xl mb-4 flex items-center"><i class="fas fa-tools text-[var(--primary-color)] mr-3"></i>Skills Used</h3>
                            <ul class="space-y-2 text-[var(--text-sub)]">
                                <li class="flex items-center"><i class="fab fa-python mr-3 text-yellow-400"></i>Python (Data Processing, Time-Series Libs)</li> <!-- Revised: Pandas -> Data Processing -->
                                <li class="flex items-center"><i class="fas fa-chart-area mr-3 text-blue-400"></i>Data Analysis (EDA, Visualization)</li>
                                <li class="flex items-center"><i class="fas fa-project-diagram mr-3 text-green-400"></i>Time-Series Clustering</li>
                                <li class="flex items-center"><i class="fas fa-laptop-code mr-3 text-indigo-400"></i>UI Prototyping (Analysis Tools)</li> <!-- Revised: Jupyter -> Analysis Tools -->
                            </ul>
                        </div>
                        <div class="glass-card p-8 reveal-child">
                            <h3 class="text-xl mb-4 flex items-center"><i class="fas fa-lightbulb text-[var(--primary-color)] mr-3"></i>Replication Points</h3>
                            <ul class="space-y-2 text-[var(--text-sub)]">
                                <li class="flex items-start"><i class="fas fa-check mr-3 mt-1 text-green-400"></i><p><strong>Start by Classifying:</strong> Instead of analyzing diverse SKUs blindly, first group them by demand patterns using time-series clustering.</p></li>
                                <li class="flex items-start"><i class="fas fa-check mr-3 mt-1 text-green-400"></i><p><strong>Create an Interactive Tool:</strong> Provide a simulator that allows business users to adjust parameters, not just a model that only analysts understand.</p></li>
                                <li class="flex items-start"><i class="fas fa-check mr-3 mt-1 text-green-400"></i><p><strong>Speak in Business Impact:</strong> Communicate value in business terms like "cost savings" or "stockout rates," not just model accuracy metrics.</p></li> <!-- Revised: accuracy metrics (RMSE etc.) removed -->
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <section class="text-center reveal">
                 <a href="index_en.html" class="inline-block bg-[var(--primary-color)] hover:bg-[var(--secondary-color)] font-bold py-3 px-8 rounded-full transition-all duration-300 transform hover:scale-105 shadow-lg shadow-[var(--primary-color)]/20 btn-custom-text">
                    <i class="fas fa-arrow-left mr-2"></i> Back to Portfolio
                </a>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const docHtml = document.documentElement;
            let clusteringChart;

            function getThemeColors() {
                const isDark = docHtml.classList.contains('dark');
                return {
                    primary: isDark ? '#00CBAA' : '#03887B',
                    secondary: isDark ? '#9D4EDD' : '#6F2DA8',
                    yellow: '#fbbf24',
                    textSub: isDark ? '#a1a1aa' : '#737373',
                    grid: isDark ? 'rgba(255, 255, 255, 0.1)' : 'rgba(0, 0, 0, 0.1)',
                };
            }
            
            // --- THEME ---
            window.onload = () => { document.getElementById('loader').classList.add('hidden'); };
            const themeToggle = document.getElementById('theme-toggle');
            const toggleIcon = themeToggle.querySelector('i');
            
            function applyTheme() {
                const isDark = docHtml.classList.contains('dark');
                toggleIcon.className = isDark ? 'fas fa-sun' : 'fas fa-moon';
                if (clusteringChart) {
                    const colors = getThemeColors();
                    clusteringChart.options.scales.y.ticks.color = colors.textSub;
                    clusteringChart.options.scales.x.ticks.color = colors.textSub;
                    clusteringChart.options.scales.y.grid.color = colors.grid;
                     // Update existing dataset colors based on cluster and theme
                    clusteringChart.data.datasets.forEach(dataset => {
                        if (dataset.cluster === 'stable') dataset.borderColor = colors.primary;
                        if (dataset.cluster === 'seasonal') dataset.borderColor = colors.secondary;
                        if (dataset.cluster === 'irregular') dataset.borderColor = colors.yellow;
                    });
                    clusteringChart.update();
                }
            }
            
            themeToggle.addEventListener('click', () => {
                docHtml.classList.toggle('dark');
                localStorage.setItem('theme', docHtml.classList.contains('dark') ? 'dark' : 'light');
                applyTheme();
            });

            // Initial theme application (default dark)
             if (localStorage.getItem('theme') === 'light') {
                docHtml.classList.remove('dark');
            } else {
                 docHtml.classList.add('dark');
            }
            applyTheme();

            // GSAP Animations
            gsap.registerPlugin(ScrollTrigger);
            gsap.utils.toArray('[data-gsap-stagger]').forEach(container => {
                const targets = container.querySelectorAll('.reveal-child');
                gsap.fromTo(targets, { opacity: 0, y: 50 }, {
                    opacity: 1, y: 0, duration: 0.8, ease: 'power3.out', stagger: 0.2,
                    scrollTrigger: { trigger: container, start: 'top 85%' }
                });
            });
            gsap.utils.toArray('.reveal').forEach(elem => {
                gsap.fromTo(elem, { opacity: 0, y: 50 }, {
                    opacity: 1, y: 0, duration: 1, ease: 'power3.out',
                    scrollTrigger: { trigger: elem, start: 'top 90%' }
                });
            });
            // Counter animation removed 
            
            // Section Navigation Active State
            const sections = gsap.utils.toArray('main section');
            const navLinks = gsap.utils.toArray('.section-nav a');
            sections.forEach(section => {
                ScrollTrigger.create({
                    trigger: section,
                    start: 'top center',
                    end: 'bottom center',
                    onToggle: self => {
                        const navLink = document.querySelector(`.section-nav a[href="#${section.id}"]`);
                        if (navLink) {
                            if (self.isActive) {
                                navLinks.forEach(link => link.classList.remove('active'));
                                navLink.classList.add('active');
                            }
                        }
                    }
                });
            });

            // --- Time Series Clustering Chart ---
            const clusteringChartCanvas = document.getElementById('clusteringChart');
            if (clusteringChartCanvas) {
                const ctx = clusteringChartCanvas.getContext('2d');
                const filtersContainer = document.getElementById('cluster-filters');

                // Generate sample data function (remains the same)
                const generateSeries = (type, length = 52) => {
                     const series = [];
                    let value = 100; // Starting value
                    for (let i = 0; i < length; i++) {
                        let step;
                        switch (type) {
                            case 'stable': 
                                step = (Math.random() - 0.5) * 5; // Small random walk
                                value += step;
                                break;
                            case 'seasonal': 
                                const seasonalFactor = Math.sin(i / length * Math.PI * 4) * 20; // Stronger seasonal component
                                step = (Math.random() - 0.5) * 8;
                                value = 100 + seasonalFactor + step;
                                break;
                            case 'irregular': 
                                step = (Math.random() - 0.5) * 15; // More volatile random walk
                                value += step;
                                if (Math.random() < 0.08) { // Occasional larger jumps
                                    value += (Math.random() - 0.5) * 50;
                                }
                                break;
                            default: value = 0;
                        }
                        series.push(value < 0 ? 0 : Math.round(value)); // Ensure non-negative and round
                    }
                    return series;
                };
                
                // Define datasets with cluster labels (English labels)
                const datasets = [
                    { label: 'SKU A001 (Stable)', data: generateSeries('stable'), cluster: 'stable', hidden: false },
                    { label: 'SKU A002 (Stable)', data: generateSeries('stable'), cluster: 'stable', hidden: false },
                    { label: 'SKU B001 (Seasonal)', data: generateSeries('seasonal'), cluster: 'seasonal', hidden: false },
                    { label: 'SKU B002 (Seasonal)', data: generateSeries('seasonal'), cluster: 'seasonal', hidden: false },
                    { label: 'SKU C001 (Irregular)', data: generateSeries('irregular'), cluster: 'irregular', hidden: false },
                    { label: 'SKU C002 (Irregular)', data: generateSeries('irregular'), cluster: 'irregular', hidden: false },
                ];
                
                // Get initial theme colors
                const initialColors = getThemeColors();

                // Chart configuration (remains mostly the same)
                const chartConfig = {
                    type: 'line',
                    data: {
                        labels: Array.from({ length: 52 }, (_, i) => `W${i + 1}`),
                        datasets: datasets.map(d => ({
                             ...d, 
                             borderWidth: 1.5, 
                             pointRadius: 0, 
                             tension: 0.1,
                             borderColor: d.cluster === 'stable' ? initialColors.primary : 
                                         d.cluster === 'seasonal' ? initialColors.secondary : 
                                         initialColors.yellow
                        }))
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { 
                            legend: { display: false }, 
                            tooltip: { 
                                mode: 'index', 
                                intersect: false,
                                titleColor: 'var(--text-main)', 
                                bodyColor: 'var(--text-sub)', 
                                backgroundColor: 'var(--bg-card)',
                                borderColor: 'var(--border-color)',
                                borderWidth: 1
                            } 
                        },
                        scales: {
                            y: { 
                                ticks: { color: initialColors.textSub }, 
                                grid: { color: initialColors.grid } 
                            },
                            x: { 
                                ticks: { 
                                    color: initialColors.textSub,
                                    maxRotation: 0, 
                                    autoSkip: true, 
                                    maxTicksLimit: 10 
                                }, 
                                grid: { display: false } 
                            }
                        }
                    }
                };
                
                // Create chart instance
                clusteringChart = new Chart(ctx, chartConfig);

                // Cluster definitions with English names
                const clusters = {
                    'all': { name: 'Show All' },
                    'stable': { name: 'Stable Demand', colorKey: 'primary' },
                    'seasonal': { name: 'Seasonal Demand', colorKey: 'secondary' },
                    'irregular': { name: 'Irregular Demand', colorKey: 'yellow' },
                };

                // Create filter buttons dynamically
                Object.keys(clusters).forEach(key => {
                    const btn = document.createElement('button');
                    btn.textContent = clusters[key].name; // Use English name
                    btn.dataset.cluster = key;
                    btn.className = 'cluster-filter-btn';
                    if (key === 'all') btn.classList.add('active');
                    filtersContainer.appendChild(btn);
                });
                
                // Add event listener for filtering
                filtersContainer.addEventListener('click', (e) => {
                    if (e.target.tagName !== 'BUTTON') return;
                    
                    const selectedCluster = e.target.dataset.cluster;
                    
                    filtersContainer.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');

                    const currentColors = getThemeColors();
                    clusteringChart.data.datasets.forEach(dataset => {
                        dataset.hidden = !(selectedCluster === 'all' || dataset.cluster === selectedCluster);
                        if (dataset.cluster === 'stable') dataset.borderColor = currentColors.primary;
                        else if (dataset.cluster === 'seasonal') dataset.borderColor = currentColors.secondary;
                        else if (dataset.cluster === 'irregular') dataset.borderColor = currentColors.yellow;
                    });
                    
                    clusteringChart.update();
                });

                // Apply initial theme and filter state
                applyTheme(); 
                
            } // End chart logic
        });
    </script>
</body>
</html>
